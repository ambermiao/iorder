(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"loginBox"},[t("section",{staticClass:"content py-6"},[t("div",{staticClass:"container"},[t("h5",{staticClass:"text-center text-black-50 mb-4"},[e._v("請先登入或註冊帳戶，前往付費")]),t("div",{staticClass:"modal-sm mx-auto"},[e.is_register?t("div",{staticClass:"modal-content"},[e._m(1),t("div",{staticClass:"modal-body"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.is_email,expression:"is_email"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n                            輸入的電子郵件已經被註冊\n                        ")]),t("form",{attrs:{"data-vv-scope":"register-form"},on:{submit:function(r){return r.preventDefault(),e.registerAction(r)}}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"name"}},[e._v("姓名")]),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"form-control",class:{"is-validated":e.errors.has("register-form.姓名")},attrs:{type:"text",name:"姓名",placeholder:"Name"},domProps:{value:e.register.name},on:{input:function(r){r.target.composing||e.$set(e.register,"name",r.target.value)}}}),t("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("register-form.姓名"),expression:"errors.has('register-form.姓名')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("register-form.姓名")))])]),t("div",{staticClass:"form-group"},[t("label",[e._v("電子郵件")]),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"form-control",class:{"is-validated":e.errors.has("register-form.email")},attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.register.email},on:{input:function(r){r.target.composing||e.$set(e.register,"email",r.target.value)}}}),t("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("register-form.email"),expression:"errors.has('register-form.email')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("register-form.email")))])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleInputPassword1"}},[e._v("密碼")]),t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_num",expression:"'required|alpha_num'"},{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"form-control",class:{"is-validated":e.errors.has("register-form.密碼")},attrs:{type:"password",name:"密碼",id:"exampleInputPassword1",placeholder:"Password"},domProps:{value:e.register.password},on:{input:function(r){r.target.composing||e.$set(e.register,"password",r.target.value)}}}),t("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("register-form.密碼"),expression:"errors.has('register-form.密碼')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("register-form.密碼")))])]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"phone"}},[e._v("手機號碼")]),t("input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,regex:/^09\d{8}$/},expression:"{ required: true, regex: /^09\\d{8}$/ }"},{name:"model",rawName:"v-model",value:e.register.phone,expression:"register.phone"}],staticClass:"form-control",class:{"is-validated":e.errors.has("register-form.手機號碼")},attrs:{type:"text",name:"手機號碼",id:"phone",placeholder:"Phone"},domProps:{value:e.register.phone},on:{input:function(r){r.target.composing||e.$set(e.register,"phone",r.target.value)}}}),t("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("register-form.手機號碼"),expression:"errors.has('register-form.手機號碼')"}],staticClass:"form-text text-danger"},[e._v(e._s(e.errors.first("register-form.手機號碼")))])]),t("button",{staticClass:"btn btn-primary w-100 mt-4",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.register_loading,expression:"!register_loading"}]},[e._v("註冊")]),t("clip-loader",{attrs:{loading:e.register_loading,color:"#fff",size:"1rem"}})],1),t("p",{staticClass:"text-center mt-4 text-muted"},[e._v("已有帳戶? "),t("a",{staticClass:"text-primary",on:{click:function(r){e.is_register=!1}}},[e._v("登入")])])])])]):t("div",{staticClass:"modal-content"},[e._m(0),t("div",{staticClass:"modal-body"},[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.is_login,expression:"is_login == false"}],staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n                            輸入的電子郵件或密碼不正確\n                        ")]),t("form",{on:{submit:function(r){return r.preventDefault(),e.loginAction(r)}}},[t("div",{staticClass:"form-group"},[t("label",[e._v("電子郵件")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.login.email,expression:"login.email",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:e.login.email},on:{input:function(r){r.target.composing||e.$set(e.login,"email",r.target.value.trim())},blur:function(r){e.$forceUpdate()}}})]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleInputPassword1"}},[e._v("密碼")]),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.login.password,expression:"login.password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Password"},domProps:{value:e.login.password},on:{input:function(r){r.target.composing||e.$set(e.login,"password",r.target.value.trim())},blur:function(r){e.$forceUpdate()}}})]),t("button",{staticClass:"btn btn-primary w-100 mt-4",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.login_loading,expression:"!login_loading"}]},[e._v("登入")]),t("clip-loader",{attrs:{loading:e.login_loading,color:"#fff",size:"1rem"}})],1),t("p",{staticClass:"text-center mt-4 text-muted"},[e._v("尚未設立帳戶？ "),t("a",{staticClass:"text-primary",on:{click:function(r){e.is_register=!0}}},[e._v("免費註冊")])])])])])])])])])},a=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:"loginModalLabel"}},[e._v("會員登入")])])},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:"loginModalLabel"}},[e._v("會員註冊")])])}],i=t("da7a"),o={name:"Login",components:{ClipLoader:i["a"]},data:function(){return{is_register:!1,is_login:!0,is_email:!1,login:{email:"",password:""},register:{name:"",email:"",password:"",phone:""},login_loading:!1,register_loading:!1}},methods:{loginAction:function(){var e=this;this.login_loading=!0,this.$store.dispatch("login",this.login).then(function(){e.$nextTick(function(){e.login_loading=!1,e.$router.push({name:"payment"})})}).catch(function(){e.login_loading=!1,e.is_login=!1,e.login.email="",e.login.password=""})},registerAction:function(){var e=this;this.$validator.validateAll("register-form").then(function(r){r&&(e.register_loading=!0,e.$store.dispatch("register",e.register).then(function(){e.register_loading=!1,e.$router.push({name:"payment"})}).catch(function(){e.register_loading=!1,e.is_email=!0,e.register.email="",e.register.password="",e.register.name="",e.register.phone=""}))})}}},l=o,n=t("2877"),m=Object(n["a"])(l,s,a,!1,null,null,null);m.options.__file="Login.vue";r["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.928b8546.js.map